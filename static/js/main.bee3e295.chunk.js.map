{"version":3,"sources":["components/Card/Card.module.scss","components/Header.jsx","context.js","components/Info.jsx","components/Drawer.jsx","components/Card/Card.jsx","pages/Home.jsx","pages/Favorites.jsx","App.js","reportWebVitals.js","index.js"],"names":["module","exports","Header","props","className","to","width","height","src","alt","onClick","onClickCart","AppContext","React","createContext","Info","title","image","description","setCartOpened","useContext","delay","ms","Promise","resolve","setTimeout","Drawer","onClose","onRemove","items","cartItems","setCartItems","useState","orderId","setOrderId","isOrderComplete","setIsOrderComplete","isLoading","setIsLoading","onClickOrder","a","axios","post","data","id","i","length","item","delete","alert","map","style","backgroundImage","imageUrl","price","disabled","Card","onFavorite","onPlus","favorited","loading","isItemAdded","isFavorite","setIsFavorite","styles","card","speed","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","favorite","plus","Home","searchValue","setSearchValue","onChangeSearchInput","onAddToFavorite","onAddToCart","onChange","value","placeholder","filtredItems","filter","toLowerCase","includes","Array","index","obj","renderItems","Favorites","favorites","App","setItems","setFavorites","cartOpened","useEffect","get","cartResponse","favoritesResponse","itemsResponse","fetchData","find","favObj","Number","prev","Provider","some","path","exact","event","target","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bee3e295.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__1HjsZ\",\"plus\":\"Card_plus__1y1Lx\",\"favorite\":\"Card_favorite__3_8FK\"};","import { Link } from 'react-router-dom';\r\n\r\nfunction Header(props) {\r\n  return (\r\n    <header className=\"d-flex justify-between align-center p-40\">\r\n      <Link to=\"/\">\r\n        <div className=\"d-flex align-center\">\r\n          <img width={40} height={40} src=\"/img/logo.png\" alt=\"Logotype\" />\r\n          <div>\r\n            <h3 className=\"text-uppercase\">React Sneakers</h3>\r\n            <p className=\"opacity-5\">Магазин лучших кроссовок</p>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n\r\n      <ul className=\"d-flex\">\r\n        <li onClick={props.onClickCart} className=\"mr-30 cu-p\">\r\n          <img width={18} height={18} src=\"/img/cart.svg\" alt=\"Корзина\" />\r\n          <span>1205 руб.</span>\r\n        </li>\r\n        <li className=\"mr-20 cu-p\">\r\n          <Link to=\"/favorites\">\r\n            <img width={18} height={18} src=\"/img/heart.svg\" alt=\"Закладки\" />\r\n          </Link>\r\n        </li>\r\n        <li>\r\n          <img width={18} height={18} src=\"/img/user.svg\" alt=\"Пользователь\" />\r\n        </li>\r\n      </ul>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nconst AppContext = React.createContext({});\r\n\r\nexport default AppContext;\r\n","import React from 'react';\r\nimport AppContext from '../context';\r\n\r\nconst Info = ({ title, image, description }) => {\r\n  const { setCartOpened } = React.useContext(AppContext);\r\n\r\n  return (\r\n    <div className=\"cartEmpty d-flex align-center justify-center flex-column flex\">\r\n      <img className=\"mb-20\" width=\"120px\" src={image} alt=\"Empty\" />\r\n      <h2>{title}</h2>\r\n      <p className=\"opacity-6\">{description}</p>\r\n      <button onClick={() => setCartOpened(false)} className=\"greenButton\">\r\n        <img src=\"/img/arrow.svg\" alt=\"Arrow\" />\r\n        Вернуться назад\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Info;\r\n","import React from 'react';\r\nimport axios from 'axios';\r\n\r\nimport Info from './Info';\r\nimport AppContext from '../context';\r\n\r\nconst delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\r\n\r\nfunction Drawer({ onClose, onRemove, items = [] }) {\r\n  const { cartItems, setCartItems } = React.useContext(AppContext);\r\n  const [orderId, setOrderId] = React.useState(null);\r\n  const [isOrderComplete, setIsOrderComplete] = React.useState(false);\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n\r\n  const onClickOrder = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const { data } = await axios.post('https://60f503d02208920017f39e9b.mockapi.io/orders', {\r\n        items: cartItems,\r\n      });\r\n      setOrderId(data.id);\r\n      setIsOrderComplete(true);\r\n      setCartItems([]);\r\n\r\n      for (let i = 0; i < cartItems.length; i++) {\r\n        const item = cartItems[i];\r\n        await axios.delete('https://60f503d02208920017f39e9b.mockapi.io/cart/' + item.id);\r\n        await delay(1000);\r\n      }\r\n    } catch (error) {\r\n      alert('Ошибка при создании заказа :(');\r\n    }\r\n    setIsLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"overlay\">\r\n      <div className=\"drawer\">\r\n        <h2 className=\"d-flex justify-between mb-30\">\r\n          Корзина <img onClick={onClose} className=\"cu-p\" src=\"/img/btn-remove.svg\" alt=\"Close button\" />\r\n        </h2>\r\n\r\n        {items.length > 0 ? (\r\n          <div className=\"d-flex flex-column flex\">\r\n            <div className=\"items\">\r\n              {items.map((item) => (\r\n                <div key={item.id} className=\"cartItem d-flex align-center mb-20\">\r\n                  <div\r\n                    style={{ backgroundImage: `url(${item.imageUrl})` }}\r\n                    className=\"cartItemImg\"></div>\r\n\r\n                  <div className=\"mr-20 flex\">\r\n                    <p className=\"mb-5\">{item.title}</p>\r\n                    <b>{item.price} руб.</b>\r\n                  </div>\r\n                  <img\r\n                    onClick={() => onRemove(item.id)}\r\n                    className=\"removeBtn\"\r\n                    src=\"/img/btn-remove.svg\"\r\n                    alt=\"Remove\"\r\n                  />\r\n                </div>\r\n\r\n              ))}\r\n            </div>\r\n\r\n            <div className=\"cartTotalBlock\">\r\n              <ul>\r\n                <li>\r\n                  <span>Итого:</span>\r\n                  <div></div>\r\n                  <b>21 498 руб. </b>\r\n                </li>\r\n                <li>\r\n                  <span>Налог 5%:</span>\r\n                  <div></div>\r\n                  <b>1074 руб. </b>\r\n                </li>\r\n              </ul>\r\n              <button disabled={isLoading} onClick={onClickOrder} className=\"greenButton\">\r\n                Оформить заказ <img src=\"/img/arrow.svg\" alt=\"Arrow\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <Info\r\n            title={isOrderComplete ? 'Заказ оформлен!' : 'Корзина пустая'}\r\n            description={\r\n              isOrderComplete\r\n                ? `Ваш заказ #${orderId} скоро будет передан курьерской доставке`\r\n                : 'Добавьте хотя бы одну пару кроссовок, чтобы сделать заказ.'\r\n            }\r\n            image={isOrderComplete ? '/img/complete-order.jpg' : '/img/empty-cart.jpg'}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Drawer;\r\n","import React from 'react';\r\nimport ContentLoader from 'react-content-loader';\r\n\r\nimport AppContext from '../../context';\r\n\r\nimport styles from './Card.module.scss';\r\n\r\nfunction Card({ id, title, imageUrl, price, onFavorite, onPlus, favorited = false, loading = false }) {\r\n  const { isItemAdded } = React.useContext(AppContext);\r\n  const [isFavorite, setIsFavorite] = React.useState(favorited);\r\n\r\n  const onClickPlus = () => {\r\n    onPlus({ id, title, imageUrl, price });\r\n  };\r\n\r\n  const onClickFavorite = () => {\r\n    onFavorite({ id, title, imageUrl, price });\r\n    setIsFavorite(!isFavorite);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.card}>\r\n      {loading ? (\r\n        <ContentLoader\r\n          speed={2}\r\n          width={155}\r\n          height={250}\r\n          viewBox=\"0 0 155 265\"\r\n          backgroundColor=\"#f3f3f3\"\r\n          foregroundColor=\"#ecebeb\">\r\n          <rect x=\"1\" y=\"0\" rx=\"10\" ry=\"10\" width=\"155\" height=\"155\" />\r\n          <rect x=\"0\" y=\"167\" rx=\"5\" ry=\"5\" width=\"155\" height=\"15\" />\r\n          <rect x=\"0\" y=\"187\" rx=\"5\" ry=\"5\" width=\"100\" height=\"15\" />\r\n          <rect x=\"1\" y=\"234\" rx=\"5\" ry=\"5\" width=\"80\" height=\"25\" />\r\n          <rect x=\"124\" y=\"230\" rx=\"10\" ry=\"10\" width=\"32\" height=\"32\" />\r\n        </ContentLoader>\r\n      ) : (\r\n        <>\r\n          <div className={styles.favorite} onClick={onClickFavorite}>\r\n            <img src={isFavorite ? '/img/liked.svg' : '/img/unliked.svg'} alt=\"Unliked\" />\r\n          </div>\r\n          <img width=\"100%\" height={135} src={imageUrl} alt=\"Sneakers\" />\r\n          <h5>{title}</h5>\r\n          <div className=\"d-flex justify-between align-center\">\r\n            <div className=\"d-flex flex-column\">\r\n              <span>Цена:</span>\r\n              <b>{price} руб.</b>\r\n            </div>\r\n            <img\r\n              className={styles.plus}\r\n              onClick={onClickPlus}\r\n              src={isItemAdded(id) ? '/img/btn-checked.svg' : '/img/btn-plus.svg'}\r\n              alt=\"Plus\"\r\n            />\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import Card from '../components/Card/Card';\r\n\r\nfunction Home({\r\n  items,\r\n  searchValue,\r\n  setSearchValue,\r\n  onChangeSearchInput,\r\n  onAddToFavorite,\r\n  onAddToCart,\r\n  isLoading,\r\n}) {\r\n\r\n  const renderItems = () => {\r\n    const filtredItems = items.filter((item) =>\r\n      item.title.toLowerCase().includes(searchValue.toLowerCase()),\r\n    );\r\n    return (isLoading ? [...Array(8)] : filtredItems).map((item, index) => (\r\n      <Card\r\n        key={index}\r\n        onFavorite={(obj) => onAddToFavorite(obj)}\r\n        onPlus={(obj) => onAddToCart(obj)}\r\n        loading={isLoading}\r\n        {...item}\r\n      />\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <div className=\"content p-40\">\r\n      <div className=\"d-flex align-center justify-between mb-40\">\r\n        <h1>{searchValue ? `Поиск по запросу: \"${searchValue}\"` : 'Все кроссовки'}</h1>\r\n        <div className=\"search-block d-flex\">\r\n          <img src=\"/img/search.svg\" alt=\"Search\" />\r\n          {searchValue && (\r\n            <img\r\n              onClick={() => setSearchValue('')}\r\n              className=\"clear cu-p\"\r\n              src=\"/img/btn-remove.svg\"\r\n              alt=\"Clear\"\r\n            />\r\n          )}\r\n          <input onChange={onChangeSearchInput} value={searchValue} placeholder=\"Поиск...\" />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"d-flex flex-wrap\">{renderItems()}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport Card from '../components/Card/Card';\r\nimport AppContext from '../context';\r\n\r\nfunction Favorites() {\r\n  const { favorites, onAddToFavorite } = React.useContext(AppContext);\r\n  return (\r\n    <div className=\"content p-40\">\r\n      <div className=\"d-flex align-center justify-between mb-40\">\r\n        <h1>Мои закладки</h1>\r\n      </div>\r\n\r\n      <div className=\"d-flex flex-wrap\">\r\n        {favorites.map((item, index) => (\r\n          <Card key={index} favorited={true} onFavorite={onAddToFavorite} {...item} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Favorites;\r\n","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport axios from 'axios';\n\nimport Header from './components/Header';\nimport Drawer from './components/Drawer';\nimport AppContext from './context';\n\nimport Home from './pages/Home';\nimport Favorites from './pages/Favorites';\n\nfunction App() {\n  const [items, setItems] = React.useState([]);\n  const [cartItems, setCartItems] = React.useState([]);\n  const [favorites, setFavorites] = React.useState([]);\n  const [searchValue, setSearchValue] = React.useState('');\n  const [cartOpened, setCartOpened] = React.useState(false);\n  const [isLoading, setIsLoading] = React.useState(true);\n\n  React.useEffect(() => {\n    async function fetchData() {\n      // TODO: Сделать try catch + Promise.all\n      const cartResponse = await axios.get('https://60f503d02208920017f39e9b.mockapi.io/cart');\n      const favoritesResponse = await axios.get('https://60f503d02208920017f39e9b.mockapi.io/favorites');\n      const itemsResponse = await axios.get('https://60f503d02208920017f39e9b.mockapi.io/items');\n\n      setIsLoading(false);\n      setCartItems(cartResponse.data);\n      setFavorites(favoritesResponse.data);\n      setItems(itemsResponse.data);\n    }\n\n    fetchData();\n  }, []);\n\n  const onAddToCart = (obj) => {\n    if (cartItems.find((item) => Number(item.id) === Number(obj.id))) {\n      axios.delete(`https://60f503d02208920017f39e9b.mockapi.io/cart/${obj.id}`);\n      setCartItems((prev) => prev.filter((item) => Number(item.id) !== Number(obj.id)));\n    } else {\n      axios.post('https://60f503d02208920017f39e9b.mockapi.io/cart', obj);\n      setCartItems((prev) => [...prev, obj]);\n    }\n  };\n\n  const onRemoveItem = (id) => {\n    axios.delete(`https://60f503d02208920017f39e9b.mockapi.io/cart/${id}`);\n    setCartItems((prev) => prev.filter((item) => item.id !== id));\n  };\n\n  const onAddToFavorite = async (obj) => {\n    try {\n      if (favorites.find((favObj) => Number(favObj.id) === Number(obj.id))) {\n        axios.delete(`https://60f503d02208920017f39e9b.mockapi.io/favorites/${obj.id}`);\n        setFavorites((prev) => prev.filter((item) => Number(item.id) !== Number(obj.id)));\n      } else {\n        const { data } = await axios.post('https://60f503d02208920017f39e9b.mockapi.io/favorites', obj);\n        setFavorites((prev) => [...prev, data]);\n      }\n    } catch (error) {\n      alert('Не удалось добавить в фавориты');\n    }\n  };\n\n  const onChangeSearchInput = (event) => {\n    setSearchValue(event.target.value);\n  };\n\n  const isItemAdded = (id) => {\n    return cartItems.some((obj) => Number(obj.id) === Number(id));\n  };\n\n  return (\n    <AppContext.Provider\n      value={{\n        items,\n        cartItems,\n        favorites,\n        isItemAdded,\n        onAddToFavorite,\n        setCartOpened,\n        setCartItems,\n      }}>\n      <div className=\"wrapper clear\">\n        {cartOpened && (\n          <Drawer items={cartItems} onClose={() => setCartOpened(false)} onRemove={onRemoveItem} />\n        )}\n\n        <Header onClickCart={() => setCartOpened(true)} />\n\n        <Route path=\"/\" exact>\n          <Home\n            items={items}\n            cartItems={cartItems}\n            searchValue={searchValue}\n            setSearchValue={setSearchValue}\n            onChangeSearchInput={onChangeSearchInput}\n            onAddToFavorite={onAddToFavorite}\n            onAddToCart={onAddToCart}\n            isLoading={isLoading}\n          />\n        </Route>\n\n        <Route path=\"/favorites\" exact>\n          <Favorites />\n        </Route>\n      </div>\n    </AppContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport { HashRouter as Router } from 'react-router-dom';\nimport ReactDOM from 'react-dom';\n\nimport './index.scss';\nimport 'macro-css';\n\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}